<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>BUG | 修改 Maupassant 主题字体为思源宋体 | 懒云休憩室</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><script>(function(d) {
  var config = {
    kitId: 'paj7pia',
    scriptTimeout: 3000,
    async: true
  },
  h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
})(document);</script><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">BUG | 修改 Maupassant 主题字体为思源宋体</h1><a id="logo" href="/.">懒云休憩室</a><p class="description">醒时诗酒醉时歌，瑶琴不理抛书卧</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 真的要看吗</i></a><a href="/archives/"><i class="fa fa-archive"> 就是个目录</i></a><a href="/books/"><i class="fa fa-book"> 倒腾旧书柜</i></a><a href="/movies"><i class="fa fa-video-camera"> 溜进电影院</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">BUG | 修改 Maupassant 主题字体为思源宋体</h1><div class="post-meta">Jan 16, 2019<span> | </span><span class="category"><a href="/categories/飞来就我题红/">飞来就我题红</a></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.1k</span><span class="post-meta-item-text"> 字</span></span></span></div><div class="post-content"><hr>
<p>起因：思源宋体真的很好看<br>需求：将 blog 的标题与正文修改为思源宋体<br>tips：每一步的目的都是猜的，用词对不对我也不知道，大概理会中心思想就好么么哒</p>
<p>步骤：</p>
<h3><span id="在-adobe-typekit-网站上注册账号并且打包字体">在 Adobe Typekit 网站上注册账号，并且打包字体</span></h3><p>网址为：<a href="https://fonts.adobe.com/" target="_blank" rel="noopener">Adobe Typekit</a><br>这一步可以让没有安装思源宋体的电脑也能够使用这个字体<del>（就是 loading 速度有点慢）</del></p>
<ol>
<li>右上角注册 Adobe 账号，地区选择 <code>United states</code></li>
<li>登陆后，搜索栏搜索 <code>Source Han Serif Simplified Chinese</code> </li>
<li>点击 &lt;/&gt; 按钮，在 <code>Enter a new project name</code> 处随便输入一个名字，点击 <code>Show 5 more</code> ，选择你需要的字重（建议是 light，Medium 和 bold 这三个。）</li>
<li><p>点击 <code>create</code> 按钮，右上角复制按钮把显示的代码复制下来，备用</p>
<p>如：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  (function(d) &#123;</span><br><span class="line">    var config = &#123;</span><br><span class="line">      kitId: &apos;paj7pia&apos;,</span><br><span class="line">      scriptTimeout: 3000,</span><br><span class="line">      async: true</span><br><span class="line">    &#125;,</span><br><span class="line">    h=d.documentElement,t=setTimeout(function()&#123;h.className=h.className.replace(/\bwf-loading\b/g,&quot;&quot;)+&quot; wf-inactive&quot;;&#125;,config.scriptTimeout),tk=d.createElement(&quot;script&quot;),f=false,s=d.getElementsByTagName(&quot;script&quot;)[0],a;h.className+=&quot; wf-loading&quot;;tk.src=&apos;https://use.typekit.net/&apos;+config.kitId+&apos;.js&apos;;tk.async=true;tk.onload=tk.onreadystatechange=function()&#123;a=this.readyState;if(f||a&amp;&amp;a!=&quot;complete&quot;&amp;&amp;a!=&quot;loaded&quot;)return;f=true;clearTimeout(t);try&#123;Typekit.load(config)&#125;catch(e)&#123;&#125;&#125;;s.parentNode.insertBefore(tk,s)</span><br><span class="line">  &#125;)(document);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>到这一步就打包好了，接下来改动 hexo 本地文件夹中的配置文件，使这个代码在 blog 配置文件中生效，也就是让 blog 能够顺利调用<a href="https://fonts.adobe.com/" target="_blank" rel="noopener">Adobe Typekit</a> 网站上你选好的字体。</p>
<h3><span id="修改-after_footerpug-文件">修改 after_footer.pug 文件</span></h3><p>这个文件具体干嘛的我也不是很清楚，反正走完这一步 blog 就能用思源宋体了</p>
<ol>
<li>文件位置在你的 hexo 文件夹 <code>\themes\maupassant\layout\_partial</code> 的位置</li>
<li>打开它，拉到最下面，粘贴你刚刚复制的代码</li>
<li>修改最上面的 <code>&lt;script&gt;</code> 为 <code>script.</code> ，删除最下面的 <code>&lt;script&gt;</code> ，注意缩进关系<br> 这一步改完以后效果应当是这样的：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">script(type=&apos;text/javascript&apos;, src=url_for(theme.js) + &apos;/codeblock-resizer.js&apos; + &apos;?v=&apos; + theme.version)</span><br><span class="line">script(type=&apos;text/javascript&apos;, src=url_for(theme.js) + &apos;/smartresize.js&apos; + &apos;?v=&apos; + theme.version)</span><br><span class="line">script.</span><br><span class="line">  (function(d) &#123;</span><br><span class="line">    var config = &#123;</span><br><span class="line">      kitId: &apos;wsr0swh&apos;,</span><br><span class="line">      scriptTimeout: 3000,</span><br><span class="line">      async: true</span><br><span class="line">    &#125;,</span><br><span class="line">    h=d.documentElement,t=setTimeout(function()&#123;h.className=h.className.replace(/\bwf-loading\b/g,&quot;&quot;)+&quot; wf-inactive&quot;;&#125;,config.scriptTimeout),tk=d.createElement(&quot;script&quot;),f=false,s=d.getElementsByTagName(&quot;script&quot;)[0],a;h.className+=&quot; wf-loading&quot;;tk.src=&apos;https://use.typekit.net/&apos;+config.kitId+&apos;.js&apos;;tk.async=true;tk.onload=tk.onreadystatechange=function()&#123;a=this.readyState;if(f||a&amp;&amp;a!=&quot;complete&quot;&amp;&amp;a!=&quot;loaded&quot;)return;f=true;clearTimeout(t);try&#123;Typekit.load(config)&#125;catch(e)&#123;&#125;&#125;;s.parentNode.insertBefore(tk,s)</span><br><span class="line">  &#125;)(document);</span><br></pre></td></tr></table></figure>
<h3><span id="修改-css-配置">修改 CSS 配置</span></h3><p>这一步的目的是让引用的字体文件能应用到 blog 样式里，修改的 <code>font-family:</code> 行按顺序读取字体名称进行显示，所以把字体名称加进去的时候要加在最前面</p>
<ol>
<li>搜索 <code>pure-g</code>，找到 <code>font-family:</code> 行，在最前面加入 <code>&quot;source-han-serif-sc&quot;, serif,</code> </li>
<li>搜索 <code>body</code> ，找到 <code>font-family:</code> 行，在最前面加入 <code>&quot;source-han-serif-sc&quot;, serif,</code><br>这一步做完了理论上就完成了，对 blog 进行部署即可</li>
</ol>
<h3><span id="我另外做了几件事">我另外做了几件事</span></h3><ol>
<li><p>搜索了其他的 <code>font-family:</code> 段，在其他 <code>font-family:</code> 段里加入了字体名称，试图修改掉 page 名的字体，结论失败，这个好像不能在 CSS 文件中进行修改（旋岚：好像这个东西和图标是一套的 ，我们自己能改的是 style.css，它来源于 font-awsome.min.css ）</p>
</li>
<li><p>修改 blog 的字体大小，字体控制分别是以下这几段代码</p>
<p>全局：搜索 <code>body</code> ，修改 <code>font-size: 15px</code>，px 就是字体大小<br>标题：搜索 <code>post</code>，修改 <code>font: 700 25px/1.1</code>，<br>正文：搜索 <code>post-content</code>，修改 <code>font-size: 15px</code>，</p>
</li>
</ol>
<h3><span id="最终思路回顾">最终思路回顾</span></h3><p>在 Adobe Typekit 网站中调用需要的字体→将字体引用代码扔进 blog 本地文件供 blog 使用→修改 CSS 样式文件让 blog 优先显示你选择的字体</p>
<h3><span id="顺便">顺便</span></h3><p>改完了以后我用来替代”阅读全文“的小云朵可爱了十八倍！从端庄的淑女云变成了香香软软的面包云！</p>
<h3><span id="鸣谢">鸣谢</span></h3><p>大力感谢旋岚的手把手教程，太麻烦你啦谢谢你教我！！！</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/posts/9c8d3344/">BUG | 解决 Abode typekit 加载字体过慢</a><a class="next" href="/posts/2ccd8897/">BUG | 修改 Maupassant 主题背景颜色</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="https://kashuukiyoko.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/分与读书灯/">分与读书灯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/放翁又看一年春/">放翁又看一年春</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/醒时节披衣坐/">醒时节披衣坐</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/飞来就我题红/">飞来就我题红</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 收藏夹</i></div><ul></ul><a href="https://kashuukiyoko.github.io/posts/4351b9f0/" title="猜猜我是谁！" target="_blank">猜猜我是谁！</a><ul></ul><a href="https://kashuukiyoko.github.io/posts/5e337b86/" title="染上了松鼠症" target="_blank">染上了松鼠症</a><ul></ul><a href="https://kashuukiyoko.github.io/posts/552ed75e/" title="请进！是朋友们的家！" target="_blank">请进！是朋友们的家！</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">♕ 在这里的是：清子 |  <span style="margin-top:10px;"><span class="post-time"><span class="post-meta-item-icon"><i class="far fa-keyboard"></i><span class="post-meta-item-text">  她絮叨了:      </span><span class="post-count">48.7k</span><span class="post-meta-item-text"> ♕</span></span></span></span></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" color="0,0,0" opacity="0.5" zindex="-2" count="50" src="//lib.baomitu.com/canvas-nest.js/2.0.3/canvas-nest.umd.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>